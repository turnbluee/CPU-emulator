Проверенные тесты для CPU эмулятора
==================================

Эта директория содержит набор проверенных тестов для CPU эмулятора, которые корректно
работают с байтовой адресацией и обеспечивают выровненный доступ к памяти.

Список тестов:
-------------

1. 01_arithmetic_operations.asm
   Проверка работы арифметических инструкций (ADD, SUB, MUL, DIV)

2. 02_logical_operations.asm
   Проверка работы логических инструкций (AND, OR, XOR) и операций сдвига (LSHFT, RSHFT)

3. 03_memory_operations.asm
   Проверка операций работы с памятью (ST, LD) с выровненным доступом

4. 04_branch_operations.asm
   Проверка условных переходов (BNZ) с правильной байтовой адресацией
   Корректно вычисляет сумму чисел от 10 до 1 (результат: 55)

5. 05_summation_loop.asm
   Полноценный пример цикла для вычисления суммы чисел от 1 до 5 (результат: 15)

Использование:
------------

1. Компиляция и запуск всех тестов (с выводом регистров):
   ```
   ./test_all_with_registers.sh
   ```

2. Компиляция и запуск всех тестов (без вывода регистров):
   ```
   ./test_all.sh
   ```

3. Компиляция отдельного теста:
   ```
   ../../assembler <имя_файла>.asm <имя_файла>.bin
   ```

4. Запуск отдельного теста:
   ```
   ../../emulator <имя_файла>.bin
   ```

5. Запуск теста с отладкой:
   ```
   ../../emulator -d <имя_файла>.bin
   ```

6. Запуск теста с отображением содержимого регистров:
   ```
   ../../emulator -v <имя_файла>.bin
   ```

Важные замечания:
---------------

1. Во всех тестах используется правильная байтовая адресация для инструкции BNZ
   (непосредственный адрес в байтах, а не номер инструкции).

2. При работе с памятью все обращения выровнены (адреса кратны 2 байтам).

3. Все тесты содержат самопроверку результатов, которая сохраняется в регистрах.
   
4. Все тесты должны выполняться менее чем за 5 секунд. Если тест выполняется дольше,
   вероятно, в нём есть бесконечный цикл из-за ошибки в условии выхода.

5. В случае сбоя теста, запустите его с флагом отладки (-d) для получения подробной
   информации о выполнении инструкций.